<!-- Cache Bust: 2026-01-26 22:20 -->
<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Santis Club | Hizmetler</title>

  <!-- Base & Editorial Styles -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/editorial.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;1,400&family=Syncopate:wght@400;700&display=swap"
    rel="stylesheet">

  <style>
    /* Editorial Detail Layout Overrides for Dynamic Content */
    .editorial-split {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      min-height: 100vh;
      width: 100%;
      overflow-x: hidden;
    }

    .visual-pane {
      position: relative;
      min-height: 100vh;
      background: #111;
      display: flex;
      align-items: flex-end;
      padding: 60px;
    }

    .visual-img {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0.6;
      filter: grayscale(1) contrast(1.2);
    }

    .content-pane {
      padding: 120px 60px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: #050505;
      border-left: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* List Header */
    .list-header {
      padding: 180px 0 80px;
      text-align: center;
      background: #050505;
    }

    @media(max-width: 1024px) {
      .editorial-split {
        grid-template-columns: 1fr;
      }

      .visual-pane {
        height: 50vh;
        min-height: auto;
        padding: 30px;
      }

      .content-pane {
        padding: 40px 20px;
      }

      .list-header {
        padding: 120px 20px 60px;
      }
    }
  </style>
</head>

<body class="editorial-mode">

  <!-- Navbar -->
  <div id="navbar-container"></div>

  <!-- MAIN CONTENT CONTAINER -->
  <main id="app-root">
    <!-- JS will inject:
             1. .editorial-split (Diff View)
             OR
             2. .list-header + .editorial-zigzag-list (List View)
        -->
    <div style="height:100vh; display:flex; align-items:center; justify-content:center; color:#666;">
      Loading Editorial Engine...
    </div>
  </main>

  <div id="footer-container"></div>

  <!-- Scripts -->
  <script src="/assets/js/loader.js"></script>
  <script>
    // loadComp provided by assets/js/loader.js
    loadComp("/components/navbar.html", "navbar-container");
    // loadComp("components/footer.html", "footer-container"); // Footer later

    // --- 2. DATA ENGINE ---
    const PARAMS = new URLSearchParams(window.location.search);

    // TR Lock: Clean URL if lang exists
    try {
      const url = new URL(window.location.href);
      if (url.searchParams.has("lang")) {
        url.searchParams.delete("lang");
        history.replaceState({}, "", url.toString());
      }
    } catch (_) { }

    const STATE = {
      hotel: PARAMS.get("hotel") || "alba-resort",
      service: PARAMS.get("service") || "",
      lang: "tr",
      hash: window.location.hash.replace('#', '')
    };

    async function init() {
      try {
        const res = await fetch("/santis-hotels.json");
        const data = await res.json();

        if (STATE.service) {
          renderDetail(data);
        } else {
          // Check if hash matches specific categories to trigger scroll or filter visually
          window.location.hash == '#classicMassages' ? renderList(data, 'classic') : renderList(data);
        }
      } catch (err) {
        console.error("Data Error", err);
        document.getElementById('app-root').innerHTML = "<h1 style='text-align:center; margin-top:100px;'>Content Not Found</h1>";
      }
    }

    // --- 3. RENDERERS ---

    // A. DETAIL VIEW (Split Screen)
    function renderDetail(data) {
      const s = data.services[STATE.service];
      if (!s) return renderList(data); // Fallback

      const sName = (window.trText ? trText(s.name) : (s?.name?.tr || s?.name || "")) || s.id;
      const sDesc = (window.trText ? trText(s.desc) : (s?.desc?.tr || s?.desc || ""));
      const price = s.price ? `${s.price} ${s.currency}` : '';

      // Placeholder Image (Use category logic optionally)
      const imgUrl = `https://images.unsplash.com/photo-1544161515-4ab6ce6db874?q=80&w=1200`;

      const html = `
                <div class="editorial-split">
                    <div class="visual-pane">
                        <div class="visual-img" style="background-image: url('${imgUrl}');"></div>
                        <div style="position:relative; z-index:2;">
                            <span class="nv-kicker">FEATURED RITUAL</span>
                            <h1 class="drama-title" style="font-size: clamp(40px, 5vw, 80px); line-height:0.9; margin-bottom:20px;">
                                ${sName}
                            </h1>
                        </div>
                    </div>

                    <div class="content-pane">
                        <div class="obsidian-meta" style="opacity:1; transform:none; justify-content:flex-start; gap:30px; margin-bottom:40px;">
                             <span>${s.durationMin} DK</span>
                             <span>${price}</span>
                        </div>

                        <p style="font-size:18px; line-height:1.6; color:#ccc; margin-bottom:40px; font-family:'Cormorant Garamond'; font-style:italic;">
                            ${sDesc}
                        </p>

                        <div class="nv-actions">
                            <button class="nv-btn nv-btn-primary" onclick="if(typeof openBookingModal === 'function') openBookingModal(); else window.location.href='booking.html'" style="width:100%; letter-spacing:3px;">
                                REZERVASYON YAP
                            </button>
                            <a href="https://wa.me/905348350169" target="_blank" class="nv-btn nv-btn-ghost" style="width:100%; margin-top:20px; border:none; text-align:center; opacity:0.7;">
                                CONCIERGE İLE İLETİŞİM
                            </a>
                        </div>
                        
                        <a href="/service.html#${STATE.hash || 'hammam'}" style="margin-top:60px; color:#666; text-decoration:none; font-size:12px; letter-spacing:1px;">
                            ← LİSTEYE DÖN
                        </a>
                    </div>
                </div>
            `;
      document.getElementById('app-root').innerHTML = html;
    }

    // B. LIST VIEW (ZigZag)
    function renderList(data) {
      // Filter services by category if hash exists
      const categoryID = STATE.hash || 'hammam'; // Default fallback

      // Find category name
      let catName = "Collection";
      const cat = data.categories.find(c => c.id === categoryID);
      if (cat) {
        // Try to resolve name from nav structure
        if (cat.navKey) {
          const parts = cat.navKey.split('.');
          if (parts.length === 2 && data[STATE.lang] && data[STATE.lang][parts[0]]) {
            catName = data[STATE.lang][parts[0]][parts[1]] || catName;
          }
        }
      }

      const entries = Object.entries(data.services).filter(([key, item]) => item.categoryId === categoryID);

      let listHtml = `
                <header class="list-header">
                    <span class="nv-kicker">CURATED SELECTION</span>
                    <h1 style="font-family:var(--font-heading); font-size:80px; margin-top:20px;">${catName}</h1>
                </header>
                <div class="editorial-zigzag-list">
            `;

      entries.forEach(([key, item]) => {
        const title = item.name[STATE.lang] || item.name.en;
        const desc = item.desc[STATE.lang] || item.desc.en;
        const img = `https://images.unsplash.com/photo-1544161515-4ab6ce6db874?q=80&w=1200`; // Placeholder

        // Using getZigZagHTML logic directly
        listHtml += `
                    <article class="zigzag-item" onclick="window.location.href='/service.html?hotel=${encodeURIComponent(STATE.hotel)}&lang=${encodeURIComponent(STATE.lang)}&service=${encodeURIComponent(key)}#${encodeURIComponent(categoryID)}'">
                        <div class="z-visual">
                            <img src="${img}" class="z-img" alt="${title}">
                        </div>
                        <div class="z-content">
                            <span class="z-kicker">${item.durationMin} MIN • ${item.price} ${item.currency}</span>
                            <h2 class="z-title" style="font-size:48px;">${title}</h2>
                            <p class="z-desc">${desc}</p>
                            <span class="nv-btn-underline">DISCOVER</span>
                        </div>
                    </article>
                `;
      });

      listHtml += `</div>`;
      document.getElementById('app-root').innerHTML = listHtml;
    }

    init();
  </script>
</body>

</html>